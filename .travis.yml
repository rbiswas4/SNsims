language: C

install:
  - CHANNEL=http://eupsforge.net/conda/dev ./install.sh lsst-sims pandas nose
  - conda install numpydoc
  - export PATH="$HOME/miniconda/bin:$PATH"
  - source eups-setups.sh
  - setup lsst_sims
  - pip install python-coveralls
  - pip install coveralls
  - pip install coverage
cache:
  directories:
  - $HOME/miniconda.tarball

# A trivial example to show that this worked
script:
  - export PATH="$HOME/miniconda/bin:$PATH"
  - source eups-setups.sh
  - setup lsst_sims
  - python setup.py install 
  - nosetests -v --with-coverage --cover-erase --cover-tests --cover-package=snsims --cover-inclusive --cover-html --cover-html-dir=doc/coverage
  - nosetests --with-doctest -v -w snsims

after_success:
  - coveralls
